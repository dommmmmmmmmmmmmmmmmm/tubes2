<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lamaran Saya</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen">
  <div class="container mx-auto py-8">
    <!-- Page Header -->
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold text-blue-600">Lamaran Saya</h1>
      <p class="text-gray-500">Kelola lamaran pekerjaan yang telah Anda upload</p>
    </div>

    <!-- Upload Section -->
    <div class="bg-white p-6 shadow-md rounded-lg mb-8">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Upload Lamaran</h2>
      <form id="upload-form" class="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4">
        <input type="file" id="file-input" class="w-full md:w-auto border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        <button type="button" id="upload-button" class="bg-blue-500 text-white font-medium px-6 py-2 rounded-lg shadow-md hover:bg-blue-600 transition">Upload</button>
      </form>
    </div>

    <!-- Table Section -->
    <div class="bg-white p-6 shadow-md rounded-lg">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Daftar Lamaran</h2>
      <div class="overflow-x-auto">
        <table class="table-auto w-full border-collapse">
          <thead>
            <tr class="bg-blue-500 text-white">
              <th class="px-4 py-2 text-left">Nama File</th>
              <th class="px-4 py-2 text-left">Tanggal Upload</th>
              <th class="px-4 py-2 text-center">Aksi</th>
            </tr>
          </thead>
          <tbody id="application-list">
            <!-- Dynamic rows will be added here -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    const uploadButton = document.getElementById('upload-button');
    const fileInput = document.getElementById('file-input');
    const applicationList = document.getElementById('application-list');

    // Handle file upload
    uploadButton.addEventListener('click', () => {
      const file = fileInput.files[0];
      if (!file) {
        alert('Silakan pilih file terlebih dahulu!');
        return;
      }

      const uploadDate = new Date().toLocaleDateString();

      // Create a new table row
      const row = document.createElement('tr');
      row.innerHTML = `
        <td class="border px-4 py-2">${file.name}</td>
        <td class="border px-4 py-2">${uploadDate}</td>
        <td class="border px-4 py-2 text-center">
          <button class="text-blue-500 hover:underline mr-4" onclick="viewFile('${file.name}')">Lihat</button>
          <button class="text-red-500 hover:underline" onclick="deleteFile(this)">Hapus</button>
        </td>
      `;

      // Add the row to the table
      applicationList.appendChild(row);

      // Clear the file input
      fileInput.value = '';
    });

    // View file functionality (placeholder)
    function viewFile(fileName) {
      alert(`Lihat file: ${fileName}`);
    }

    // Delete file functionality
    function deleteFile(button) {
      if (confirm('Apakah Anda yakin ingin menghapus file ini?')) {
        const row = button.closest('tr');
        row.remove();
      }
    }
  </script>
</body>
</html>